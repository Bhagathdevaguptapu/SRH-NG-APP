<div class="navbar">
  <div class="nav-container">
    <a href="/" class="nav-logo">
      <img src="https://assets.upstox.com/content/assets/images/cms/2024314/coforge.webp" alt="Logo" />
    </a>
    <nav class="nav-links">
      <a href="/tickets">Tickets</a>
      <a href="/ticket/details">Actions</a>
      <a href="/ticket/status">Status</a>
      <a href="/ticket/comment">Comments</a>
      <a href="/">Logout</a>
    </nav>
  </div>
</div>

<div class="main-content">
  <div class="home-content">
    <h1>Welcome to the Department Dashboard</h1>
    <p>Manage your tickets easily and efficiently.</p>
  </div>

  <div class="input-section">
    <label for="deptId">Select Department:</label>
    <select id="deptId" [(ngModel)]="departmentId">
      <option [value]="0" disabled selected>Select Department</option>
      <option [value]="1">IT Support</option>
      <option [value]="2">Non IT Support</option>
      <option [value]="3">HR Support</option>
    </select>
    <button (click)="fetchTickets()">Load Stats</button>
  </div>

  <p class="loading" *ngIf="loading">Loading...</p>
  <p class="error" *ngIf="errorMsg">{{ errorMsg }}</p>

  <div class="stats-container" *ngIf="!loading && totalTickets > 0">
    <div class="stat-card">
      <h3>{{ totalTickets }}</h3>
      <p>Total Tickets</p>
    </div>
    <div class="stat-card">
      <h3>{{ openTickets }}</h3>
      <p>Open Tickets</p>
    </div>
    <div class="stat-card">
      <h3>{{ closedTickets }}</h3>
      <p>Closed Tickets</p>
    </div>
  </div>
</div>

<footer>
  <p>Â© 2025 Department Ticketing System | Version 1</p>
</footer>
